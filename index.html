<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio Line India | Pro Inventory</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <head>
    <title>Studio Line India | Pro Inventory</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/?size=100&id=4DkF7Aqa5SO4&format=png&color=000000">
</head> 
    <style>
/* Details ‡¶ï‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.product-title {
    font-size: 14px;
    font-weight: 600; /* ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü */
    color: #f8f9fa; /* ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶∏‡¶æ‡¶¶‡¶æ ‡¶®‡ßü, ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶Ö‡¶´-‡¶π‡ßã‡ßü‡¶æ‡¶á‡¶ü */
    letter-spacing: 0.4px;
    line-height: 1.4;
    transition: all 0.3s ease;
    display: block;
    max-width: 250px; /* ‡¶®‡¶æ‡¶Æ ‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡ßú ‡¶π‡¶≤‡ßá ‡¶≤‡¶æ‡¶á‡¶® ‡¶≠‡ßá‡¶ô‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá */
}

/* ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶®‡¶ø‡¶≤‡ßá ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶®‡¶ø‡¶ì‡¶® ‡¶¨‡ßç‡¶≤‡ßÅ ‡¶π‡¶¨‡ßá */
.product-name-cell:hover .product-title {
    color: var(--neon-blue);
    text-shadow: 0 0 8px rgba(71, 225, 255, 0.3);
}

/* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶∏‡¶æ‡¶¨-‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü (‡¶Ø‡¶¶‡¶ø ‡¶∏‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶®) */
.product-sub-text {
    font-size: 11px;
    color: #948fb1;
    font-weight: 400;
    margin-top: 2px;
}
        :root {
            --bg-dark: #0b0e1a;
            --sidebar-bg: #11142b;
            --card-glass: rgba(255, 255, 255, 0.03);
            --accent: #bc47ff;
            --neon-blue: #47e1ff;
            --neon-pink: #ff47bc;
            --neon-green: #39ff14;
            --text-white: #ffffff;
            --danger: #ff5f5f;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1) brightness(100%);
            cursor: pointer;
            font-size: 18px;
        }
        .btn-refresh {
            background: var(--card-glass);
            border: 1.5px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 10px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 700;
            font-size: 11px;
            transition: 0.3s;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-refresh:hover {
            background: var(--neon-blue);
            color: #0b0e1a;
            box-shadow: 0 0 20px rgba(71, 225, 255, 0.4);
            transform: translateY(-2px);
        }
        #loading-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(11, 14, 26, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            backdrop-filter: blur(5px);
            transition: opacity 0.2s ease-out;
        }

        .loader-stylish { text-align: center; }

        .spinner {
            width: 45px;
            height: 45px;
            border: 3px solid rgba(188, 71, 255, 0.1);
            border-top: 3px solid #bc47ff;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }



/* ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶°‡¶æ‡¶ü‡¶æ‡¶ï‡ßá ‡¶¨‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶∏‡¶Æ‡¶æ‡¶® ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá */
table th, table td {
    vertical-align: middle;
    padding: 10px 15px; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶Æ‡¶§‡ßã ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¶‡¶ø‡¶® */
}







/* ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Ø‡¶æ‡¶§‡ßá ‡¶®‡¶æ ‡¶≠‡ßá‡¶ô‡ßá ‡¶Ø‡¶æ‡ßü ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® */
.nav-link, 
#sidebarCats li, 
td span[style*="background:rgba(71,225,255,0.08)"] {
    white-space: nowrap;      /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶è‡¶ï ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá */
    width: fit-content;      /* ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶¨‡ßú ‡¶π‡¶¨‡ßá */
    min-width: 120px;        /* ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® */
    display: inline-block;   /* ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá */
    text-align: center;      /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá */
}


/* ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ‡¶õ‡¶æ‡ßú‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
.neon-modal-outer {
    position: relative;
    width: 400px;
    padding: 2px; /* ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ */
    /* ‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶ó‡ßç‡¶∞‡ßá‡¶°‡¶ø‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
    background: linear-gradient(135deg, #ff47bc 0%, #bc47ff 50%, #47e1ff 100%);
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 20px rgba(188, 71, 255, 0.2);
}

.neon-modal-inner {
    background: #0b0e1a; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
    border-radius: 18px;
    padding: 30px;
    text-align: center;
}

/* ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.btn-delete-flat {
    background: #ff47bc;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.2s;
}

.btn-delete-flat:hover {
    background: #ff1a75;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 71, 188, 0.4);
}



@keyframes rotateBorder {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.inner-box {
    position: relative;
    background: #0f1224; /* ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
    border-radius: 22px;
    padding: 35px;
    width: 100%;
    z-index: 10;
    text-align: center;
}

.product-img {
    width: 40px;
    height: 40px;
    object-fit: cover; /* ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ø‡¶æ‡¶§‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶ü‡¶æ ‡¶®‡¶æ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü */
    border-radius: 0%; /* ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶ó‡ßã‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
    border: 0px solid rgba(255, 255, 255, 0.1); /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
    background: #1a1d33; /* ‡¶á‡¶Æ‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
}
/* ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ø‡¶æ ‡¶π‡¶¨‡ßá */
.product-img:hover {
    transform: scale(1.75); /* ‡¶á‡¶Æ‡ßá‡¶ú‡¶ü‡¶ø ‡ß®‡ß´% ‡¶¨‡ßú ‡¶π‡¶¨‡ßá */
    border-color: var(--accent); /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶•‡¶ø‡¶Æ‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡ßç‡¶™‡¶≤ ‡¶π‡¶¨‡ßá */
    box-shadow: 0 0 15px rgba(188, 71, 255, 0.4); /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶ó‡ßç‡¶≤‡ßã ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü */
    z-index: 100; /* ‡¶Ø‡¶æ‡¶§‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶∏‡ßá‡¶≤‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶ö‡¶æ‡¶™‡¶æ ‡¶®‡¶æ ‡¶™‡ßú‡ßá */
}
.img-modal {
    display: none; /* ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
    position: fixed;
    z-index: 2000; /* ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶¨‡¶æ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶â‡¶™‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(7, 9, 22, 0.9); /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶Ö‡¶®‡ßç‡¶ß‡¶ï‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
    backdrop-filter: blur(10px); /* ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ù‡¶æ‡¶™‡¶∏‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá */
    justify-content: center; /* ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶®‡¶¨‡ßá (Horizontal) */
    align-items: center; /* ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶®‡¶¨‡ßá (Vertical) */
}

.img-modal-content {
    position: relative;
    max-width: 80%; /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡ßÆ‡ß¶% ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¨‡ßú ‡¶π‡¶¨‡ßá */
    max-height: 80%;
    background: #11142b;
    padding: 10px;
    border-radius: 20px;
    border: 2px solid #bc47ff; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡ßü ‡¶™‡¶æ‡¶∞‡ßç‡¶™‡¶≤ ‡¶®‡¶ø‡¶Ø‡¶º‡¶® ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
    box-shadow: 0 0 40px rgba(188, 71, 255, 0.4);
    animation: zoomIn 0.3s ease-out;
}

.img-modal-content img {
    max-width: 100%;
    max-height: 75vh;
    border-radius: 12px;
    display: block;
}

.close-modal {
    position: absolute;
    top: -45px; right: 0;
    color: white;
    font-size: 35px;
    cursor: pointer;
}





/* ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü */
.control-group {
    display: flex;
    gap: 10px;
    margin-bottom: 12px;
    align-items: center;
}

.control-group select {
    flex: 1;
    margin-bottom: 0;
}

/* ‡¶ï‡¶Æ‡¶® ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.btn-action {
    width: 45px;
    height: 45px;
    border-radius: 12px;
    border: none;
    font-weight: 800;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

/* ‡¶™‡ßç‡¶≤‡¶æ‡¶∏ ‡¶¨‡¶æ‡¶ü‡¶® - ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶≤‡ßÅ ‡¶ó‡ßç‡¶∞‡ßá‡¶°‡¶ø‡ßü‡ßá‡¶®‡ßç‡¶ü */
.btn-plus {
    background: linear-gradient(135deg, #47e1ff 0%, #00d2ff 100%);
    color: #0b0e1a;
    box-shadow: 0 4px 15px rgba(71, 225, 255, 0.3);
}

.btn-plus:hover {
    transform: scale(1.1) rotate(90deg);
    box-shadow: 0 0 20px rgba(71, 225, 255, 0.5);
}

/* ‡¶Æ‡¶æ‡¶á‡¶®‡¶æ‡¶∏ ‡¶¨‡¶æ‡¶ü‡¶® - ‡¶®‡¶ø‡¶ì‡¶® ‡¶∞‡ßã‡¶ú ‡¶ó‡ßç‡¶∞‡ßá‡¶°‡¶ø‡ßü‡ßá‡¶®‡ßç‡¶ü */
.btn-minus {
    background: linear-gradient(135deg, #ff47bc 0%, #ff1a75 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 71, 188, 0.3);
}

.btn-minus:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(255, 71, 188, 0.5);
}

/* ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶¶‡ßá‡¶¨‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ */
.btn-action:active {
    transform: scale(0.9);
}






/* ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Æ‡ßá‡¶®‡ßÅ‡¶∞ ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
select {
    appearance: none; /* ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßã ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã */
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%23ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 18px;
    padding-right: 45px !important; /* ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ */
    cursor: pointer;
    transition: all 0.3s ease;
}

/* ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶®‡¶ø‡¶≤‡ßá ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ó‡ßç‡¶≤‡ßã ‡¶ï‡¶∞‡¶¨‡ßá */
select:hover {
    border-color: var(--neon-blue) !important;
    box-shadow: 0 0 10px rgba(71, 225, 255, 0.2);
}

/* ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Ö‡¶™‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ */
select option {
    background-color: #11142b; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
    color: white;
    padding: 12px;
}

/* ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡ßü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
select:focus {
    outline: none;
    border-color: var(--accent) !important;
    box-shadow: 0 0 15px rgba(188, 71, 255, 0.3);
}








/* PIP-TAG ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ó‡ßç‡¶∞‡ßá ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.pip-tag-container {
    background: rgba(255, 255, 255, 0.05); /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶∏‡¶æ‡¶¶‡¶æ‡¶ü‡ßá ‡¶Ü‡¶≠‡¶æ */
    border: 1px solid rgba(148, 143, 177, 0.3); /* ‡¶ó‡ßç‡¶∞‡ßá ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
    padding: 4px 12px;
    border-radius: 20px; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶∂‡ßá‡¶™ */
    color: #948fb1; /* ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ó‡ßç‡¶∞‡ßá ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
    font-weight: 600;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.4s ease;
    filter: blur(5px); /* ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶¨‡ßç‡¶≤‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
    user-select: none;
    display: inline-block;
    letter-spacing: 0.5px;
}

/* ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶®‡¶ø‡¶≤‡ßá ‡¶¨‡ßç‡¶≤‡¶æ‡¶∞ ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶π‡¶¨‡ßá */
.pip-tag-container:hover {
    filter: blur(0);
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff; /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶æ‡¶¶‡¶æ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá */
    border-color: rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}




/* Open Firebase ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.btn-refresh {
    background: linear-gradient(135deg, #FFCA28 0%, #F57C00 100%); /* Firebase Yellow to Orange */
    border: none;
    color: #0b0e1a; /* ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Ø‡¶æ‡¶§‡ßá ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü */
    padding: 10px 25px;
    border-radius: 30px;
    cursor: pointer;
    font-weight: 700;
    font-size: 11px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 4px 15px rgba(245, 124, 0, 0.3);
}

/* ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶®‡¶ø‡¶≤‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶π‡¶¨‡ßá */
.btn-refresh:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 202, 40, 0.4);
    filter: brightness(1.1);
}

/* ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶¶‡ßá‡¶¨‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá */
.btn-refresh:active {
    transform: translateY(0);
}





/* GST Calculator Modal Style */
.gst-modal-content {
    background: #0b0e1a;
    border: 2px solid var(--neon-blue);
    box-shadow: 0 0 25px rgba(71, 225, 255, 0.3);
    border-radius: 20px;
    width: 450px;
    padding: 30px;
    color: white;
}

.gst-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.gst-rate-btn {
    background: var(--card-glass);
    border: 1px solid rgba(255,255,255,0.1);
    color: white;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
    font-weight: 600;
}

.gst-rate-btn.active {
    background: var(--neon-blue);
    color: #000;
    box-shadow: 0 0 15px var(--neon-blue);
    border-color: var(--neon-blue);
}

.gst-input-group {
    margin-bottom: 15px;
}

.gst-input-group label {
    display: block;
    font-size: 12px;
    color: #948fb1;
    margin-bottom: 5px;
    text-transform: uppercase;
}

.gst-input-group input {
    width: 100%;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    padding: 12px;
    border-radius: 10px;
    color: var(--neon-blue);
    font-weight: bold;
    font-size: 16px;
    outline: none;
}

.gst-result-box {
    background: rgba(57, 255, 20, 0.05);
    border: 1px dashed var(--neon-green);
    padding: 15px;
    border-radius: 10px;
    margin-top: 10px;
}




/* ‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶Æ‡¶® ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.btn-refresh, .btn-gst, .export-btn {
    border: 2px solid rgba(255, 255, 255, 0.1);
    padding: 10px 25px;
    border-radius: 30px; /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
    cursor: pointer;
    font-weight: 700;
    font-size: 12px;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    text-transform: uppercase;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    color: white;
    letter-spacing: 1px;
    backdrop-filter: blur(5px);
}

/* ‡ßß. Export Excel ‡¶¨‡¶æ‡¶ü‡¶® (Pink/Purple Gradient) */
.export-btn {
    background: linear-gradient(135deg, rgba(255, 71, 188, 0.2), rgba(188, 71, 255, 0.4));
    border-color: #ff47bc;
    box-shadow: 0 0 15px rgba(255, 71, 188, 0.3);
}
.export-btn:hover {
    background: #ff47bc;
    box-shadow: 0 0 25px rgba(255, 71, 188, 0.6);
    transform: translateY(-3px) scale(1.05);
}

/* ‡ß®. Open Firebase ‡¶¨‡¶æ‡¶ü‡¶® (Yellow/Orange Gradient) */
.btn-refresh {
    background: linear-gradient(135deg, rgba(255, 202, 40, 0.2), rgba(245, 124, 0, 0.4));
    border-color: #FFCA28;
    box-shadow: 0 0 15px rgba(255, 202, 40, 0.3);
}
.btn-refresh:hover {
    background: #FFCA28;
    color: #000; /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü */
    box-shadow: 0 0 25px rgba(255, 202, 40, 0.6);
    transform: translateY(-3px) scale(1.05);
}

/* ‡ß©. GST Calculator ‡¶¨‡¶æ‡¶ü‡¶® (Cyber Blue Gradient) */
.btn-gst {
    background: linear-gradient(135deg, rgba(0, 210, 255, 0.2), rgba(58, 123, 213, 0.4));
    border-color: #00d2ff;
    box-shadow: 0 0 15px rgba(0, 210, 255, 0.3);
}
.btn-gst:hover {
    background: #00d2ff;
    color: #000;
    box-shadow: 0 0 25px rgba(0, 210, 255, 0.6);
    transform: translateY(-3px) scale(1.05);
}







/* ‡ßß. ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ - Full Width ‡¶ì Left Alignment */
.nav-link {
    padding: 12px 20px;     
    margin-bottom: 8px;     
    font-size: 15px;        /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶¨‡ßú ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    font-weight: 600;       /* ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶π‡¶¨‡ßá ‡¶®‡¶æ */
    border-radius: 12px;
    cursor: pointer;
    color: #948fb1;
    transition: all 0.3s ease;
    list-style: none;
    text-transform: uppercase;
    
    /* ‡¶≤‡ßá‡¶´‡¶ü ‡¶ü‡ßÅ ‡¶∞‡¶æ‡¶á‡¶ü ‡¶è‡¶≤‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡ßã‡¶° */
    display: flex;
    align-items: Left;
    justify-content: flex-start; /* ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶¨‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶¨‡ßá */
    width: 100%;                 /* ‡¶¨‡¶æ‡¶ü‡¶®‡¶ü‡¶ø ‡¶¨‡¶æ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶® ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ö‡¶ì‡ßú‡¶æ ‡¶π‡¶¨‡ßá */
    text-align: left;
    border: 1px solid transparent; /* ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶á‡¶®‡¶≠‡¶ø‡¶ú‡¶ø‡¶¨‡¶≤ */
    background: rgba(255, 255, 255, 0.02);
}

/* ‡ß®. ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶®‡¶ø‡¶ì‡¶® ‡¶∏‡¶æ‡¶á‡ßü‡¶æ‡¶® ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶Æ‡¶§‡ßã) */
.nav-link:hover {
    color: #fff;
    background: rgba(71, 225, 255, 0.05);
    border: 1px solid #47e1ff; /* ‡¶®‡¶ø‡¶ì‡¶® ‡¶∏‡¶æ‡¶á‡ßü‡¶æ‡¶® ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
    box-shadow: 0 0 15px rgba(71, 225, 255, 0.3);
    padding-left: 25px; /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶Æ‡ßÅ‡¶≠‡¶Æ‡ßá‡¶®‡ßç‡¶ü */
}

/* ‡ß©. ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (‡¶¨‡ßá‡¶ó‡ßÅ‡¶®‡¶ø ‡¶ó‡ßç‡¶≤‡ßã - ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶π‡¶¨‡ßá ‡¶®‡¶æ) */
.nav-link.active { 
    background: #bc47ff; /* ‡¶∏‡¶≤‡¶ø‡¶° ‡¶™‡¶æ‡¶∞‡ßç‡¶™‡¶≤ */
    color: white; 
    font-weight: 800;    /* ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶π‡¶ì‡ßü‡¶æ ‡¶¨‡¶®‡ßç‡¶ß */
    border: 1px solid #bc47ff;
    box-shadow: 0 0 20px rgba(188, 71, 255, 0.5);
}

/* ‡ß™. ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ */
#sidebarCats {
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: stretch; /* ‡¶Ø‡¶æ‡¶§‡ßá ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ö‡¶ì‡ßú‡¶æ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶®‡ßá‡ßü */
}

#sidebarCats li {
    width: 100%;
    list-style: none;
}

/* ‡ß´. ‡¶¨‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶° ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤ (‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ì ‡¶¨‡ßú) */
.brand { 
    font-size: 22px; 
    font-weight: 800; 
    color: var(--neon-blue); 
    margin-bottom: 30px; 
    text-transform: uppercase; 
    text-align: left; 
    letter-spacing: 1px;
}

/* ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶™‡ßç‡¶∞‡ßá‡¶∏ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü */
.nav-link:active {
    transform: scale(0.98);
}





/* ‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶â‡¶á‡¶• ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.export-btn, .btn-refresh, .btn-Open, .btn-gst {
    width: 180px; /* ‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶è‡¶ï‡¶á ‡¶ö‡¶ì‡ßú‡¶æ ‡¶π‡¶¨‡ßá */
    height: 45px; /* ‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶è‡¶ï‡¶á ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ ‡¶π‡¶¨‡ßá */
    padding: 0;   /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∏‡¶æ‡¶á‡¶ú ‡¶®‡¶æ ‡¶¨‡¶æ‡ßú‡ßá */
    border-radius: 30px;
    font-weight: 700;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border: 2px solid rgba(255, 255, 255, 0.1);
    color: white;
    backdrop-filter: blur(5px);
}

/* ‡ßß. Export Excel (Pink) */
.export-btn {
    background: linear-gradient(135deg, rgba(255, 71, 188, 0.2), rgba(188, 71, 255, 0.4));
    border-color: #ff47bc;
    box-shadow: 0 0 15px rgba(255, 71, 188, 0.3);
}
.export-btn:hover {
    background: #ff47bc;
    box-shadow: 0 0 25px rgba(255, 71, 188, 0.6);
    transform: translateY(-3px);
}

/* ‡ß®. Open Firebase (Yellow) */
.btn-refresh {
    background: linear-gradient(135deg, rgba(255, 202, 40, 0.2), rgba(245, 124, 0, 0.4));
    border-color: #FFCA28;
    box-shadow: 0 0 15px rgba(255, 202, 40, 0.3);
}
.btn-refresh:hover {
    background: #FFCA28;
    color: #000;
    box-shadow: 0 0 25px rgba(255, 202, 40, 0.6);
    transform: translateY(-3px);
}

/* ‡ß©. Open Excel (Cyber Blue) */
.btn-Open {
    background: linear-gradient(135deg, rgba(0, 198, 255, 0.2), rgba(0, 114, 255, 0.4));
    border-color: #00c6ff;
    box-shadow: 0 4px 15px rgba(0, 114, 255, 0.3);
}
.btn-Open:hover {
    background: #00c6ff;
    color: #000;
    box-shadow: 0 0 25px rgba(0, 198, 255, 0.6);
    transform: translateY(-3px);
}

/* ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü */
.export-btn:active, .btn-refresh:active, .btn-Open:active {
    transform: scale(0.95);
}







/* Customize the scrollbar track (the background) */
.sidebar::-webkit-scrollbar {
    width: 10px;
}

.sidebar::-webkit-scrollbar-track {
    background: #0b0b0b; /* Very dark background to make neon pop */
}

/* The scrollbar handle (the "Thumb") */
.sidebar::-webkit-scrollbar-thumb {
    background: #222; /* Subtle dark grey when idle */
    border-radius: 10px;
    border: 2px solid #0b0b0b;
    transition: all 0.3s ease;
}

/* --- The Neon Light Effect on Hover --- */
.sidebar::-webkit-scrollbar-thumb:hover {
    background: #00d4ff; /* Neon Blue */
    /* This creates the 'glow' effect around the handle */
    box-shadow: 0 0 10px #00d4ff, 
                0 0 20px #00d4ff;
    cursor: pointer;
}

/* For Firefox (Note: Firefox support for glow is limited, but we can set the color) */
.sidebar {
    scrollbar-width: thin;
    scrollbar-color: #222 #0b0b0b;
}






<style>
    /* Add this to your CSS file */
    .header-top {
        display: flex;
        align-items: center;
        gap: 10px; /* Space between buttons */
        padding: 15px;
        background-color: #f8f9fa;
        flex-wrap: wrap; /* Allows buttons to wrap on mobile screens */
    }

    .search-box {
        flex-grow: 1; /* Makes the search bar take up available space */
        min-width: 200px;
    }

    .search-box input {
        width: 100%;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }

    button {
        padding: 8px 12px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
        white-space: nowrap; /* Prevents text from breaking into two lines */
    }










/* ‡¶ú‡ßÅ‡¶Æ ‡¶á‡¶® ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
@keyframes zoomIn {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background: var(--bg-dark); color: var(--text-white); display: flex; min-height: 100vh; overflow-x: hidden; }

        .sidebar { width: 280px; background: var(--sidebar-bg); padding: 25px; border-right: 1px solid rgba(255,255,255,0.05); flex-shrink: 0; position: sticky; top: 0; height: 100vh; overflow-y: auto; }
/* ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã */
.nav-link {
    padding: 8px 15px;      /* padding ‡ßß‡ß® ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡¶ø‡ßü‡ßá ‡ßÆ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    margin-bottom: 4px;      /* margin ‡ßÆ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡¶ø‡ßü‡ßá ‡ß™ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    font-size: 12px;        /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡ßß‡ß© ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡¶ø‡ßü‡ßá ‡ßß‡ß® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    border-radius: 8px;      /* ‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶∂‡ßá‡¶™ ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    line-height: 1.2;       /* ‡¶≤‡¶æ‡¶á‡¶®‡ßá‡¶∞ ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
}

/* ‡¶¨‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã */
.brand {
    margin-bottom: 15px;    /* ‡ß©‡ß¶ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡¶ø‡ßü‡ßá ‡ßß‡ß´ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
}
        .nav-link.active { background: var(--accent); color: white; box-shadow: 0 0 15px rgba(188, 71, 255, 0.4); }

        .main-container { flex: 1; padding: 30px; }
        .header-top { display: flex; align-items: center; margin-bottom: 25px; gap: 20px; }
        .search-box { position: relative; width: 350px; }
        .search-box input { width: 100%; background: var(--card-glass); border: 1px solid rgba(255,255,255,0.1); padding: 12px 40px 12px 15px; border-radius: 12px; color: white; outline: none; }
        .search-box::after { content: 'üîç'; position: absolute; right: 15px; top: 50%; transform: translateY(-50%); font-size: 14px; opacity: 0.7; }

        .export-btn { margin-left: auto; background: transparent; border: 1.5px solid var(--neon-pink); color: var(--neon-pink); padding: 10px 25px; border-radius: 30px; cursor: pointer; font-weight: 600; transition: 0.3s; text-transform: uppercase; }
        .export-btn:hover { background: var(--neon-pink); color: white; box-shadow: 0 0 20px rgba(255, 71, 188, 0.4); }

        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; }
        .stat-card { background: rgba(255, 255, 255, 0.03); padding: 25px 20px; border-radius: 15px; position: relative; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.05); }
        .stat-card::before { content: ""; position: absolute; left: 0; top: 10%; height: 80%; width: 4px; border-radius: 10px; }
        .glow-blue::before { background: var(--neon-blue); box-shadow: 0 0 15px var(--neon-blue); }
        .glow-purple::before { background: var(--accent); box-shadow: 0 0 15px var(--accent); }
        .glow-cyan::before { background: #00f2ff; box-shadow: 0 0 15px #00f2ff; }
        .glow-green::before { background: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }
        .stat-card h3 { font-size: 11px; text-transform: uppercase; color: #948fb1; letter-spacing: 1px; }
        .stat-card .val { font-size: 28px; font-weight: 800; margin-top: 10px; display: block; }

        .mid-section { display: grid; grid-template-columns: 1fr 400px; gap: 25px; margin-bottom: 30px; }
        .chart-box {
    position: relative;
    background: rgba(17, 20, 43, 0.8);
    border-radius: 20px;
    padding: 30px;
    /* ‡¶∏‡¶æ‡¶á‡¶°‡ßá ‡¶®‡¶ø‡¶ì‡¶® ‡¶™‡¶ø‡¶Ç‡¶ï ‡¶ó‡ßç‡¶≤‡ßã ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü */
    border: 1px solid rgba(255, 71, 188, 0.3);
    box-shadow: 0 0 20px rgba(255, 71, 188, 0.15), 
                inset 0 0 15px rgba(255, 71, 188, 0.1);
}

/* ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶Æ ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶®‡¶ø‡¶ì‡¶® ‡¶≤‡¶æ‡¶á‡¶® */
.chart-box::after {
    content: '';
    position: absolute;
    top: -1px; left: -1px; right: -1px; bottom: -1px;
    border-radius: 20px;
    pointer-events: none;
    background: linear-gradient(135deg, #ff47bc, transparent 40%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    padding: 2px; /* ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ */
    filter: blur(1px);
}
        .form-box { background: var(--card-glass); padding: 25px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(20px); }
        
        input, select { width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); padding: 12px; border-radius: 12px; color: white; margin-bottom: 12px; outline: none; }
        
        .control-group { display: flex; gap: 8px; margin-bottom: 12px; align-items: center; }
        .control-group select { margin-bottom: 0; flex: 1; height: 45px; }
        .btn-action { width: 45px; height: 45px; border-radius: 10px; border: none; font-weight: bold; font-size: 20px; cursor: pointer; transition: 0.2s; }
        .btn-plus { background: var(--neon-blue); color: #000; }
        .btn-minus { background: var(--danger); color: #000; }

        .btn-update { width: 100%; background: var(--accent); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: 0.3s; margin-top: 10px; font-size: 16px; }

        .table-wrap { background: var(--card-glass); border-radius: 24px; border: 1px solid rgba(255,255,255,0.05); overflow: visible; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 18px; text-align: left; font-size: 13px; }
        th { color: #948fb1; text-transform: uppercase; font-size: 11px; background: rgba(255,255,255,0.02); }
        tr { border-bottom: 1px solid rgba(255,255,255,0.02); transition: 0.3s; }
        tr:hover { background: rgba(255, 255, 255, 0.02); }

        .p-img-wrapper { position: relative; width: 45px; height: 45px; z-index: 10; display: inline-block; vertical-align: middle; }
        .p-img { width: 100%; height: 100%; border-radius: 4px; object-fit: cover; transition: transform 0.3s ease; cursor: pointer; position: absolute; top: 0; left: 0; }
        .p-img-wrapper:hover .p-img { transform: scale(1.5); z-index: 999; border-radius: 0; box-shadow: 0 15px 40px rgba(0,0,0,0.9); }

        .price-tag { color: transparent; text-shadow: 0 0 8px rgba(255,255,255,0.5); transition: all 0.3s ease; cursor: pointer; user-select: none; font-weight: 600; }
        .price-tag:hover { color: var(--neon-green); text-shadow: none; transform: scale(1.1); }

        .action-btns { display: flex; gap: 10px; }
        .icon-btn { background: none; border: none; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .btn-edit { color: var(--neon-blue); }
        .btn-del { color: var(--danger); }

        .modal-overlay { display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(10px); align-items: center; justify-content: center; }
        .modal-box { background: #11142b; padding: 35px; border-radius: 24px; border: 1.5px solid var(--accent); width: 450px; box-shadow: 0 0 40px rgba(188, 71, 255, 0.2); }
        .edit-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    </style>
</head>
<body>
<div id="imgModal" class="img-modal" onclick="closeImgModal()">
    <div class="img-modal-content" onclick="event.stopPropagation()">
        <span class="close-modal" onclick="closeImgModal()">&times;</span>
        <img id="modalImg" src="" alt="Product Preview">
    </div>
</div>

<div id="loading-overlay">
    <div class="loader-stylish">
        <div class="spinner"></div>
        <div style="text-align:center;color:#9aa0d0">Loading Data‚Ä¶</div>
    </div>
</div>

<div id="imgModal" class="modal-overlay" onclick="closeImgModal()">
    <div>
        <img id="popupImg" src="" style="max-width: 90vw; max-height: 90vh; border-radius: 12px; border: 2px solid var(--accent);">
    </div>
</div>

<div id="editModal" class="modal-overlay">
    <div class="modal-box">
        <h3 style="margin-bottom: 20px; color: var(--neon-blue); text-align: center;">STUDIO LINE INDIA<br><span style="color:#fff; font-size:14px; opacity: 0.8;">PRODUCT UPDATE</span></h3>
        <input type="hidden" id="editId">
        <input type="text" id="editName" placeholder="Product Name">
        <div class="edit-grid">
            <select id="editCat"></select>
            <select id="editDlr"></select>
        </div>
        <input type="number" id="editBuy" placeholder="Buy Price" oninput="calcEditSale()">
        <div style="margin-bottom: 12px;">
            <label style="font-size: 25px; color: #ffffff; margin-bottom: 5px; display: block;">Total Profit Percentage %</label>
            <input type="number" id="editMargin" min="0" max="100" placeholder="30" oninput="calcEditSale()">
        </div>
        <div class="edit-grid" style="margin-bottom: 15px;">
            <div>
                <label style="font-size: 15px; color: #948fb1;">Profit Amount -</label>
                <div id="displayProfit" style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); color: var(--neon-green); font-weight: bold; text-align: center;">0</div>
            </div>
            <div>
                <label style="font-size: 15px; color: #948fb1;">Total % Amount -</label>
                <div id="displayTotal" style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); color: var(--neon-green); font-weight: bold; text-align: center;">0/-</div>
            </div>
        </div>
        <input type="text" id="editSerial" placeholder="Serial Number">
        <input type="date" id="editDate">
        <input type="text" id="editImg" placeholder="Image URL">
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button onclick="saveEdit()" style="flex:1; padding: 15px; border-radius: 12px; border: none; background: var(--accent); color: white; cursor: pointer; font-weight: 700; font-size: 14px;">UPDATE</button>
            <button onclick="closeEdit()" style="flex:1; padding: 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); background: #1e223d; color: white; cursor: pointer; font-weight: 600;">Cancel</button>
        </div>
    </div>
</div>

<div id="reusableModal" class="modal-overlay">
    <div class="modal-box" style="text-align:center;">
        <div id="modalIcon" style="font-size: 50px; margin-bottom: 10px;">‚ö†Ô∏è</div>
        <div id="modalTitle" style="font-size: 20px; font-weight: 700; margin-bottom: 10px;">Confirm</div>
        <p id="modalDesc" style="color: #948fb1;"></p>
        <input type="text" id="modalInput" style="display: none; margin-top: 15px;" placeholder="Type here...">
        <div style="display: flex; gap: 15px; margin-top: 20px;">
            <button id="modalConfirmBtn" style="flex:1; padding: 12px; border-radius: 12px; border: none; background: var(--accent); color: white; cursor: pointer;">Confirm</button>
            <button onclick="closeModal()" style="flex:1; padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); background: #1e223d; color: white; cursor: pointer;">Cancel</button>
        </div>
    </div>
</div>

<div class="sidebar">
    <div class="brand">STUDIO LINE INDIA</div>
    <ul id="sidebarCats"></ul>
</div>

<div class="main-container">
    <div class="header-top">
        <div class="search-box"><input type="text" id="searchInput" placeholder="Search product..." onkeyup="handleSearch()"></div>
        <datalist id="productSuggestions"></datalist>
<button class="btn-gst" onclick="openGstCalculator()">
    <span>üìä</span> GST Calculator
</button>
        <button class="btn-refresh" onclick="fetchFromGoogle2()">Home Invest</button>
        <button class="btn-Open" onclick="fetchFromGoogle2()">Khatabook</button>
        <button class="btn-refresh" onclick="fetchFromGoogle()">Open Firebase</button>
        <button class="btn-Open" onclick="fetchFromGoogle2()">Open Excel</button>
        <button class="export-btn" onclick="exportToExcel()">Export Excel</button>
    </div>

    <div class="stats-grid">
        <div class="stat-card glow-blue"><h3>Inventory Count</h3><div class="val" id="tQty">0</div></div>
        <div class="stat-card glow-purple"><h3>Total Value</h3><div class="val" id="tInv">‚Çπ0</div></div>
        <div class="stat-card glow-cyan"><h3>GST (18%)</h3><div class="val" id="tGst" style="color:var(--neon-blue)">‚Çπ0</div></div>
        <div class="stat-card glow-green"><h3>Projected Profit</h3><div class="val" id="tProfit" style="color:var(--neon-green)">‚Çπ0</div></div>
    </div>







<div id="gstModal" class="modal-overlay">
    <div class="gst-modal-content">
        <h3 style="text-align:center; color:var(--neon-blue); margin-bottom:20px;">üìä GST CALCULATOR</h3>
        
        <label style="font-size: 12px; color: #948fb1;">SELECT GST RATE (%)</label>
        <div class="gst-grid" id="gstRates">
            <button class="gst-rate-btn" onclick="setGstRate(5, this)">5%</button>
            <button class="gst-rate-btn" onclick="setGstRate(12, this)">12%</button>
            <button class="gst-rate-btn active" onclick="setGstRate(18, this)">18%</button>
            <button class="gst-rate-btn" onclick="setGstRate(28, this)">28%</button>
        </div>

        <div class="gst-input-group">
            <label>Amount (Without GST)</label>
            <input type="number" id="baseAmount" placeholder="0.00" oninput="calculateGst()">
        </div>

        <div class="gst-result-box">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>GST Amount:</span>
                <span id="resGst" style="color:var(--neon-pink);">‚Çπ0</span>
            </div>
            <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:18px;">
                <span>Total Amount:</span>
                <span id="resTotal" style="color:var(--neon-green);">‚Çπ0</span>
            </div>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button onclick="closeGstModal()" style="flex:1; padding:12px; border-radius:10px; background:var(--card-glass); border:1px solid rgba(255,255,255,0.1); color:white; cursor:pointer;">Close</button>
            <button onclick="resetGst()" style="flex:1; padding:12px; border-radius:10px; background:rgba(255, 95, 95, 0.2); border:1px solid var(--danger); color:var(--danger); cursor:pointer;">Clear</button>
        </div>
    </div>
</div>



<div class="mid-section">
    <div class="chart-box"><canvas id="roundChart"></canvas></div>
<div class="form-box">
    <h2>Add New Product</h2>
    <input type="text" id="pName" placeholder="Product Name" list="productNameSuggestions" autocomplete="off">
    <datalist id="productNameSuggestions"></datalist>
    
    <select id="pCat" style="width: 100%; margin-bottom: 12px;"></select>
    <select id="pDealer" style="width: 100%; margin-bottom: 12px;"></select>
    
    <div style="display: flex; gap: 10px; margin-bottom: 12px;">
        <input type="number" id="pBuy" placeholder="Buy Price" oninput="calculateLivePrice()" style="margin-bottom: 0; flex: 2;">
<div style="flex: 1; position: relative;">
    <input type="number" id="pMargin" placeholder="5" value="5" oninput="calculateLivePrice()" 
           style="margin-bottom: 0; 
                  text-align: center; 
                  background: rgba(255, 255, 255, 0.05); /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶ó‡ßç‡¶∞‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
                  border: 1px solid #4a4a4a; /* ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶ó‡ßç‡¶∞‡ßá ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
                  color: #d1d1d6; /* ‡¶≤‡¶æ‡¶á‡¶ü ‡¶ó‡ßç‡¶∞‡ßá ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü */
                  font-weight: bold; 
                  padding-right: 20px;
                  outline: none;
                  border-radius: 12px;">
    <span style="position: absolute; 
                 right: 10px; 
                 top: 50%; 
                 transform: translateY(-50%); 
                 color: #d1d1d6; /* ‡¶≤‡¶æ‡¶á‡¶ü ‡¶ó‡ßç‡¶∞‡ßá ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü */
                 font-weight: bold;
                 pointer-events: none;">%</span>
</div>
    </div>

    <div style="display: flex; gap: 10px; margin-bottom: 12px;">
        <input type="number" id="pOnlinePrice" placeholder="Online Price" style="margin-bottom: 0; flex: 1;">
        <div id="pTotalDisplay" style="flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--neon-blue); font-weight: 800; font-size: 16px;">
            ‚Çπ0
        </div>
    </div>

    <input type="text" id="pSerial" placeholder="Serial Number">
    <input type="date" id="pDate">
    <input type="text" id="pImgUrl" placeholder="Image URL (Optional)">
    
    <button class="btn-update" id="addBtn" onclick="addItem()">Update Stock</button>
</div>
</div>


<div id="neonConfirmModal" class="modal-overlay" style="display:none;">
    <div class="neon-modal-content">
        <div class="inner-box">
            <div style="font-size: 50px; margin-bottom: 10px; filter: drop-shadow(0 0 10px #ff4d94);">üóëÔ∏è</div>
            <h3 style="color: #fff; margin-bottom: 10px; font-size: 22px;">Are you sure?</h3>
            <p style="color: #948fb1; margin-bottom: 25px; line-height: 1.5;">This item will be removed permanently from your inventory.</p>
            
            <div style="display: flex; gap: 15px;">
                <button id="confirmDeleteBtn" style="flex:1; padding: 12px; border-radius: 12px; border: none; background: linear-gradient(90deg, #ff4d94, #ff1a75); color: white; cursor: pointer; font-weight: bold; box-shadow: 0 4px 15px rgba(255, 77, 148, 0.4);">Yes, Delete</button>
                <button onclick="closeNeonModal()" style="flex:1; padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); background: transparent; color: white; cursor: pointer;">Cancel</button>
            </div>
        </div>
    </div>
</div>

  <div class="table-wrap">
    <table>
        <thead>
            <tr>
                <th style="text-align: left; padding-left: 20px;">Details</th>
                <th style="text-align: center;">Category</th>
                <th style="text-align: Left;">Dealer</th>
                <th style="text-align: center;">PIP-TAG</th>
                <th style="text-align: center;">Buy Price</th>
                <th style="text-align: center;">Web Price</th>
                <th style="text-align: center; color: #948fb1;">HSN CODE</th> <th style="text-align: center;">Date & Time</th>
                <th style="text-align: left;">Serial No</th>
                <th style="text-align: center;">Action</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>
</div>


<script>






let currentGstRate = 18;

function openGstCalculator() {
    document.getElementById('gstModal').style.display = 'flex';
}

function closeGstModal() {
    document.getElementById('gstModal').style.display = 'none';
}

function setGstRate(rate, btn) {
    currentGstRate = rate;
    document.querySelectorAll('.gst-rate-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    calculateGst();
}

function calculateGst() {
    const amount = parseFloat(document.getElementById('baseAmount').value) || 0;
    const gstAmt = (amount * currentGstRate) / 100;
    const total = amount + gstAmt;

    document.getElementById('resGst').innerText = '‚Çπ' + gstAmt.toLocaleString();
    document.getElementById('resTotal').innerText = '‚Çπ' + total.toLocaleString();
}

function resetGst() {
    document.getElementById('baseAmount').value = '';
    calculateGst();
}



// ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function calculateLivePrice() {
    // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡¶æ‡¶® ‡¶®‡ßá‡¶ì‡ßü‡¶æ
    const buyPrice = parseFloat(document.getElementById('pBuy').value) || 0;
    const marginPercent = parseFloat(document.getElementById('pMargin').value) || 0;

    // ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ (‡¶ï‡ßç‡¶∞‡ßü‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø + ‡¶≤‡¶æ‡¶≠)
    const totalAmount = buyPrice + (buyPrice * marginPercent / 100);

    // ‡¶®‡ßÄ‡¶≤ ‡¶∞‡¶ô‡ßá‡¶∞ ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã (‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ö‡¶ø‡¶π‡ßç‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶Æ‡¶æ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡¶∏‡¶π)
    document.getElementById('pTotalDisplay').innerText = '‚Çπ' + Math.round(totalAmount).toLocaleString();
}

// addItem ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶á ‡¶≤‡¶æ‡¶á‡¶®‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®:
// document.getElementById('pTotalDisplay').innerText = "‚Çπ0";



// ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶¨‡¶ø‡¶ï‡¶æ‡¶†‡¶ø (Firebase Config)
const firebaseConfig = {
  apiKey: "AIzaSyAQ4ycMhb2s8u3CuKeHIred39YJa7I_c_E",
  authDomain: "inventory-glow.firebaseapp.com",
  projectId: "inventory-glow",
  storageBucket: "inventory-glow.firebasestorage.app",
  messagingSenderId: "933378258854",
  appId: "1:933378258854:web:937d18ddd972505ab1c167"
};

// ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const storage = firebase.storage();

    const URL_PERMANENT = "https://script.google.com/macros/s/AKfycbyreFXvejr6Z4-nGPMMfExpNfd8m5PxTyNa8Z9mt75O5TcYWK-qNRicR2BqIszuCsKU/exec";


    let stock = [];
    let cats = ["INTEL¬Æ PROCESSORS","AMD Ryzen‚Ñ¢ Processors", "MOTHERBOARD", "RAM_DDR5 | DDR4", "GRAPHICS CARD", "M.2 NVME GEN4", "INTERNAL HARD DISK","CPU COPPER COOLER","CPU LIQUID COOLER", "SMPS-POWER SUPPLY", "RGB CABINET","ARGB CABINET", "MONITOR", "KEYBOARD & MOUSE", "UPS (POWER SUPPLY)", "SOUND SYSTEM", "WIFI USB ADAPTERS", "RGB & ARGB FAN", "DP & HDMI CABLE","32GB - PEN DRIVES","64GB - PEN DRIVES","EXTRA - PRODUCTS"];
    let dlrs = ["SUNTRONIC SYSTEM", "SUNTRONIC INFOTECH", "SUPREME INFOTRADE", "MANINDRA INFOTECH", "GIRI COMPUTER","( PC HUB 24-25 ) Stock"];

    let myChart, currentFilter = "All", searchQuery = "", fileBase64 = "";

    function formatDateTime(dateStr) {
        if (!dateStr) return "N/A";
        const date = new Date(dateStr);
        if (isNaN(date)) return dateStr;
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        let hours = date.getHours();
        const minutes = String(date.getMinutes()).padStart(2, '0');
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12 || 12;
        return `${day}-${month}-${year} ${String(hours).padStart(2, '0')}:${minutes} ${ampm}`;
    }

    function showLoader() { document.getElementById('loading-overlay').style.display = 'flex'; }
    function hideLoader() { 
        const loader = document.getElementById('loading-overlay');
        loader.style.opacity = '0';
        setTimeout(() => { loader.style.display = 'none'; loader.style.opacity = '1'; }, 20);
    }

 // ‡ßß. Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
function syncFromFirebase() {
    showLoader();
    db.ref('products').on('value', (snapshot) => {
        const data = snapshot.val();
        stock = []; 

        if (data) {
            Object.keys(data).forEach(key => {
                const item = data[key];
                stock.push({
                    id: key, 
                    name: item.name,
                    cat: item.cat,
                    dealer: item.dealer,
                    buy: parseFloat(item.buy) || 0,
                    onlinePrice: parseFloat(item.onlinePrice) || 0, // ‡¶è‡¶ü‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
                    margin: parseFloat(item.margin) || 5,
                    sell: parseFloat(item.sell) || 0,
                    date: item.date,
                    serial: item.serial,
                    img: item.img
                });
            });
            stock.reverse(); 
        }

        hideLoader();
        updateInterface(); 
    });
}



   async function addItem() {
    const name = document.getElementById('pName').value;
    const buy = parseFloat(document.getElementById('pBuy').value) || 0;
    const margin = parseFloat(document.getElementById('pMargin').value) || 5;
    const sell = buy + (buy * margin / 100);
    const cat = document.getElementById('pCat').value;
    const dealer = document.getElementById('pDealer').value;
    const onlinePrice = document.getElementById('pOnlinePrice').value || 0;
    const serial = document.getElementById('pSerial').value || "N/A";
    const date = document.getElementById('pDate').value || new Date().toISOString().split('T')[0];
    const img = document.getElementById('pImgUrl').value || "";

    if(!name || !buy) { 
        alert("‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"); 
        return; 
    }

    const newItem = {
        name, buy, margin, sell, cat, dealer, onlinePrice, serial, date, img
    };

    showLoader(); // ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶≤‡ßá ‡¶≤‡ßã‡¶°‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá

    try {
        // --- ‡¶ß‡¶æ‡¶™ ‡ßß: Firebase-‡¶è ‡¶™‡ßÅ‡¶∂ ‡¶ï‡¶∞‡¶æ (‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) ---
        await db.ref('products').push(newItem);
        console.log("Syncing with Firebase: Success");

        // --- ‡¶ß‡¶æ‡¶™ ‡ß®: Google Sheet-‡¶è ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã (‡¶™‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶≠) ---
        // URL_PERMANENT ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Google Apps Script ‡¶è‡¶∞ URL ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá
        fetch(URL_PERMANENT, {
            method: "POST",
            mode: "no-cors", // CORS ‡¶á‡¶∏‡ßç‡¶Ø‡ßÅ ‡¶è‡ßú‡¶æ‡¶§‡ßá
            cache: "no-cache",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(newItem)
        })
        .then(() => console.log("Permanent backup in Google Sheet: Success"))
        .catch(err => console.error("Google Sheet Backup Failed: ", err));

        alert("Stock Updated & Saved to Google Sheet! ‚úÖ");
        resetForm(); // ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        
    } catch (error) {
        console.error("Error adding product:", error);
        alert("Firebase update failed!");
    } finally {
        hideLoader(); // ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá ‡¶≤‡ßã‡¶°‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ
    }
}



// ‡¶´‡¶∞‡¶Æ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶õ‡ßá)
function resetForm() {
    // ‡¶∏‡¶¨ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ
    document.getElementById('pName').value = "";
    document.getElementById('pBuy').value = "";
    document.getElementById('pMargin').value = "5"; // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡ß´% ‡¶∞‡¶æ‡¶ñ‡¶æ
    document.getElementById('pOnlinePrice').value = "";
    document.getElementById('pSerial').value = "";
    document.getElementById('pImgUrl').value = "";
    document.getElementById('pDate').value = "";

    // ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    const display = document.getElementById('pTotalDisplay');
    if(display) display.innerText = "‚Çπ0";
}

// ‡ßß. Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
// ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶è‡¶∞ ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶è‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®

function syncData() {
    db.ref('products').on('value', (snapshot) => {
        const data = snapshot.val();
        stock = []; // ‡¶è‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        if (data) {
            Object.keys(data).forEach(key => {
                stock.push({ id: key, ...data[key] });
            });
            stock.reverse();
        }
        updateInterface();
    });
}

// ‡ß´. ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡¶æ
window.onload = syncData;

// ‡ß®. ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
window.onload = syncData;

    // ‡ß®. ‡ßß‡ß¶ ‡¶ó‡ßÅ‡¶£ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶è‡¶°‡¶ø‡¶ü ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
   async function saveEdit() {
    const id = document.getElementById('editId').value;
    showLoader();

    try {
        const buy = parseFloat(document.getElementById('editBuy').value) || 0;
        const margin = parseFloat(document.getElementById('editMargin').value) || 5;

        const updatedData = {
            name: document.getElementById('editName').value,
            cat: document.getElementById('editCat').value,
            dealer: document.getElementById('editDlr').value,
            buy: buy,
            margin: margin,
            sell: buy + (buy * margin / 100),
            serial: document.getElementById('editSerial').value,
            img: document.getElementById('editImg').value,
            date: new Date().toLocaleString() // ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶∞‡¶æ‡¶ñ‡¶æ
        };

        // Firebase-‡¶è ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        await db.ref('products/' + id).update(updatedData);

        closeEdit();
        alert("Product Updated Successfully! ‚ú®");
    } catch (error) {
        console.error("Update Error:", error);
    } finally {
        hideLoader();
    }
}

let deleteIdPending = null;

// ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ö‡¶æ‡¶™‡¶≤‡ßá ‡¶è‡¶ü‡¶ø ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá
function triggerDelete(id) {
    deleteIdPending = id; // ‡¶Ü‡¶á‡¶°‡¶ø‡¶ü‡¶ø ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá
    document.getElementById('neonConfirmModal').style.display = 'flex'; // ‡¶™‡¶™-‡¶Ü‡¶™ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
}

// 'Yes, Delete' ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ø‡¶æ ‡¶π‡¶¨‡ßá
document.getElementById('confirmDeleteBtn').onclick = async function() {
    if (deleteIdPending) {
        closeNeonModal();
        showLoader();
        try {
            await db.ref('products/' + deleteIdPending).remove();
            // ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®
        } catch (error) {
            console.error(error);
        } finally {
            hideLoader();
            deleteIdPending = null;
        }
    }
};

function closeNeonModal() {
    document.getElementById('neonConfirmModal').style.display = 'none';
}
    function resetForm() {
    document.getElementById('pName').value = "";
    document.getElementById('pBuy').value = "";
    document.getElementById('pMargin').value = "5"; // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡ß´% ‡¶è ‡¶´‡¶ø‡¶∞‡¶ø‡ßü‡ßá ‡¶Ü‡¶®‡¶æ
    document.getElementById('pOnlinePrice').value = ""; // ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶∏ ‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞
    document.getElementById('pSerial').value = "";
    document.getElementById('pImgUrl').value = "";
    document.getElementById('pDate').value = "";
    
    // ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶¨‡¶ï‡ßç‡¶∏‡¶ü‡¶ø ‡¶∂‡ßÇ‡¶®‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ
    const totalDisplay = document.getElementById('pTotalDisplay');
    if (totalDisplay) {
        totalDisplay.innerText = "‚Çπ0";
    }
}

   function render() {
    const body = document.getElementById('tableBody'); body.innerHTML = '';
    let inv = 0;
    const filtered = stock.filter(i => (currentFilter === 'All' || i.cat === currentFilter) && (String(i.name).toLowerCase().includes(searchQuery.toLowerCase()) || String(i.serial).toLowerCase().includes(searchQuery.toLowerCase())));
    
    filtered.forEach(i => {
        inv += (parseFloat(i.buy) || 0);
        const imgSrc = i.img || 'https://via.placeholder.com/45';
        const profitAmount = (parseFloat(i.sell) || 0) - (parseFloat(i.buy) || 0);
// PIP-TAG ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶§‡ßà‡¶∞‡¶ø (‚Çπ ‡¶ö‡¶ø‡¶π‡ßç‡¶® ‡¶õ‡¶æ‡ßú‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ)
    const pipValue = `PIP-${Math.round(i.buy)}`;

        body.innerHTML += `<tr>
        <td>
            <div class="product-details-container" style="display: flex; align-items: center; gap: 14px;">
                <div class="p-img-wrapper" style="width: 45px; height: 45px; flex-shrink: 0; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                    <img src="${imgSrc}" class="product-img" ondblclick="openImgModal('${imgSrc}')" style="width: 100%; height: 100%; object-fit: cover; transition: 0.3s;">
                </div>
                <div style="display: flex; flex-direction: column; gap: 2px;">
                    <span class="product-name" style="color: #f0f0f0; font-size: 12.5px; font-weight: 600; letter-spacing: 0.3px; line-height: 1.3;">${i.name}</span>
                    <span class="product-sku" style="color: #6b7280; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">SERIAL: ${i.serial || 'N/A'}</span>
                </div>
            </div>
        </td>
<td style="vertical-align: middle; text-align: center;">
    <span style="color:var(--neon-blue); 
                 background:rgba(71,225,255,0.08); 
                 border: 1px solid rgba(71, 225, 255, 0.2); 
                 padding: 4px 12px; 
                 border-radius: 6px; 
                 font-size: 10px; 
                 font-weight: 400; /* ‡¶è‡¶ñ‡¶æ‡¶®‡ßá 600 ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡¶ø‡ßü‡ßá 400 (Normal) ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
                 text-transform: uppercase; 
                 white-space: nowrap; 
                 display: inline-flex; 
                 align-items: center; 
                 justify-content: center; 
                 min-width: 120px;">
        ${i.cat}
    </span>
</td>
        <td style="font-size:11px; color:#948fb1; font-weight:400;">${i.dealer}</td>

<td style="vertical-align: middle;">
    <div class="pip-tag-container" style="display: inline-flex; align-items: center; justify-content: center; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(148, 143, 177, 0.2); color: #948fb1; padding: 5px 11px; border-radius: 6px; font-size: 11px; font-weight: 600; min-width: 85px; letter-spacing: 0.5px; transition: 0.3s; filter: blur(5px);" onmouseover="this.style.filter='blur(0)'" onmouseout="this.style.filter='blur(5px)'">
        PI-${Math.round(i.buy)}
    </div>
</td>

        <td style="color:var(--text-white); font-weight:normal; font-weight:550; font-size:17px;">‚Çπ&nbsp;${Math.round(i.sell)}</td>
        <td style="color: #47e1ff; font-weight: 500; font-size:14px;">‚Çπ&nbsp;${i.onlinePrice || 0}</td>
<td style="vertical-align: middle;">
    <div style="display: inline-flex; align-items: center; justify-content: center; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(148, 143, 177, 0.2); color: #948fb1; padding: 5px 12px; border-radius: 6px; font-size: 10px; font-weight: 600; min-width: 90px; letter-spacing: 0.5px;">
        NP-${Math.round(profitAmount)}
    </div>
</td>        <td style="font-size:11px; color: #948fb1; white-space:nowrap;">${formatDateTime(i.date)}</td>
        <td style="font-family: 'JetBrains Mono', monospace; color:var(--neon-blue); font-size:12px;">${i.serial || '---'}</td>
        <td>
            <div class="action-btns" style="display: flex; gap: 12px;">
                <button class="icon-btn btn-edit" onclick="openEdit('${i.id}')" style="color: #60a5fa; background: none; border: none; cursor: pointer; font-size: 16px;">‚úé</button>
                <button class="icon-btn btn-del" onclick="triggerDelete('${i.id}')" style="color: #f87171; background: none; border: none; cursor: pointer; font-size: 16px;">‚úñ</button>
            </div>
        </td>
    </tr>`;
});

    // ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡ßã‡¶°...
    document.getElementById('tQty').innerText = filtered.length;
    document.getElementById('tInv').innerText = '‚Çπ' + inv.toLocaleString();
    document.getElementById('tGst').innerText = '‚Çπ' + (inv * 0.18).toLocaleString();
    document.getElementById('tProfit').innerText = '‚Çπ' + (inv * 0.05).toLocaleString();
    
    const dataMap = {}; stock.forEach(i => dataMap[i.cat] = (dataMap[i.cat] || 0) + 1);
    drawChart(dataMap);
}





function drawChart(data) {
    const ctx = document.getElementById('roundChart').getContext('2d');
    if(myChart) myChart.destroy();

    const fillGradient = ctx.createLinearGradient(0, 0, 0, 400);
    fillGradient.addColorStop(0, 'rgba(71, 225, 255, 0.3)'); 
    fillGradient.addColorStop(1, 'rgba(188, 71, 255, 0)');   

    myChart = new Chart(ctx, {
        type: 'line', 
        data: {
            labels: Object.keys(data),
            datasets: [{
                label: 'Stock Count',
                data: Object.values(data),
                borderColor: '#47e1ff', 
                borderWidth: 3,
                pointBackgroundColor: '#bc47ff', 
                pointBorderColor: '#fff',
                pointHoverRadius: 7,
                tension: 0.4, 
                fill: true,
                backgroundColor: fillGradient, 
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                // ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤‡¶ü‡¶ø ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶ú‡¶ø‡¶∂‡¶® 'bottom' ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã
                title: {
                    display: true,
                    text: 'üìä Product Stock Items Chart : STUDIO LINE INDIA & PC HUB',
                    position: 'bottom', // ‡¶≤‡ßá‡¶ñ‡¶æ‡¶ü‡¶ø ‡¶®‡¶ø‡¶ö‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
                    color: '#47e1ff',
                    font: {
                        size: 14,
                        family: 'Poppins',
                        weight: '300'
                    },
                    padding: { top: 20 }
                }
            },
            scales: {
                x: {
                    // ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶Å‡¶ï‡¶æ‡¶®‡ßã ‡¶≤‡ßá‡¶¨‡ßá‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã
                    display: false, 
                    grid: { display: false }
                },
                y: {
                    beginAtZero: true,
                    grid: { color: 'rgba(255, 255, 255, 0.05)' },
                    ticks: { color: '#948fb1' }
                }
            },
            elements: {
                line: {
                    shadowBlur: 10,
                    shadowColor: 'rgba(71, 225, 255, 0.5)',
                    shadowOffsetX: 0,
                    shadowOffsetY: 4
                }
            }
        }
    });
}




function fetchFromGoogle() {
    // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ Firebase ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
    const firebaseURL = "https://console.firebase.google.com/u/0/project/inventory-glow/database/inventory-glow-default-rtdb/data?fb_gclid=CjwKCAiAybfLBhAjEiwAI0mBBmPGL9yt7tP-8dcB-2PYxtuDLSykaKAXWTY1BYpWYU4pNqs7Vb15lRoCfRYQAvD_BwE&fb_utm_campaign=Cloud-SS-DR-Firebase-FY26-global-gsem-1713590&fb_utm_content=text-ad&fb_utm_medium=cpc&fb_utm_source=google&fb_utm_term=KW_firebase";
    
    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
    window.open(firebaseURL, '_blank');
}



function fetchFromGoogle2() {
    // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Google Sheet-‡¶è‡¶∞ URL-‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®
    const googleSheetURL = "https://docs.google.com/spreadsheets/d/1-kKKjzoNYVyIHrTWT7tXF-0pZnd0y5_lOAbydtU0ito/edit?gid=0#gid=0";
    
    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶∂‡¶ø‡¶ü‡¶ü‡¶ø ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá
    window.open(googleSheetURL, '_blank');
}


    function updateInterface() {
        document.getElementById('pCat').innerHTML = cats.map(c => `<option value="${c}">${c}</option>`).join('');
        document.getElementById('pDealer').innerHTML = dlrs.map(d => `<option value="${d}">${d}</option>`).join('');
        document.getElementById('editCat').innerHTML = cats.map(c => `<option value="${c}">${c}</option>`).join('');
        document.getElementById('editDlr').innerHTML = dlrs.map(d => `<option value="${d}">${d}</option>`).join('');
        
        const uniqueNames = [...new Set(stock.map(item => item.name))];
        const dataList = document.getElementById('productNameSuggestions');
        if (dataList) dataList.innerHTML = uniqueNames.map(name => `<option value="${name}">`).join('');

        const sidebar = document.getElementById('sidebarCats');
        sidebar.innerHTML = `<li class="nav-link ${currentFilter==='All'?'active':''}" onclick="setFilter('All')">Dashboard</li>` + 
                            cats.map(c => `<li class="nav-link ${currentFilter===c?'active':''}" onclick="setFilter('${c}')">${c}</li>`).join('');
        render();
    }

    function openImgModal(src) {
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');
        if (!src || src.includes('placeholder')) return; 
        modal.style.display = "flex";
        modalImg.src = src;
    }

    function closeImgModal() { document.getElementById('imgModal').style.display = "none"; }

    function openEdit(id) {
    const item = stock.find(s => s.id === id);
    if (!item) return;

    document.getElementById('editId').value = id; // Firebase Key
    document.getElementById('editName').value = item.name;
    document.getElementById('editCat').value = item.cat;
    document.getElementById('editDlr').value = item.dealer;
    document.getElementById('editBuy').value = item.buy;
    document.getElementById('editMargin').value = item.margin || 5;
    document.getElementById('editSerial').value = item.serial;
    document.getElementById('editImg').value = item.img || "";
    
    calcEditSale();
    document.getElementById('editModal').style.display = 'flex';
}

    function calcEditSale() {
        const buy = parseFloat(document.getElementById('editBuy').value) || 0;
        const margin = parseFloat(document.getElementById('editMargin').value) || 0;
        const profit = (buy * margin / 100);
        document.getElementById('displayProfit').innerText = Math.round(profit) + "";
        document.getElementById('displayTotal').innerText = Math.round(buy + profit) + "";
    }

function triggerActionModal(action, type) {
    const input = document.getElementById('modalInput');
    const title = document.getElementById('modalTitle');
    const confirmBtn = document.getElementById('modalConfirmBtn');
    
    // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶ï‡¶∞‡¶æ
    input.style.display = "block"; 
    input.value = "";
    
    if(action === 'add') {
        title.innerText = type === 'cat' ? "Add New Category" : "Add New Dealer";
        confirmBtn.onclick = () => { 
            if(input.value.trim()) { 
                if(type === 'cat') cats.push(input.value.trim()); 
                else dlrs.push(input.value.trim()); 
                updateInterface(); 
                closeModal(); 
            } else {
                alert("Please type something!");
            }
        };
    } else if(action === 'rem') {
        title.innerText = type === 'cat' ? "Remove Category" : "Remove Dealer";
        input.style.display = "none"; // ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‡¶®‡¶æ
        const currentVal = type === 'cat' ? document.getElementById('pCat').value : document.getElementById('pDealer').value;
        
        confirmBtn.onclick = () => {
            if(type === 'cat') cats = cats.filter(c => c !== currentVal);
            else dlrs = dlrs.filter(d => d !== currentVal);
            updateInterface();
            closeModal();
        };
    }
    document.getElementById('reusableModal').style.display = 'flex';
}

    function handleFile(input) { 
        const reader = new FileReader(); 
        reader.onload = (e) => { 
            fileBase64 = e.target.result; 
            document.getElementById('fileTxt').innerText = "Loaded ‚úÖ"; 
        }; 
        reader.readAsDataURL(input.files[0]); 
    }
    function setFilter(c) { currentFilter = c; updateInterface(); }
    function handleSearch() { searchQuery = document.getElementById('searchInput').value; render(); }
    function closeModal() { document.getElementById('reusableModal').style.display = 'none'; }
    function closeEdit() { document.getElementById('editModal').style.display = 'none'; }
    function exportToExcel() { 
        const data = stock.map(i => ({ ID: i.id, Name: i.name, Category: i.cat, Dealer: i.dealer, Buy: i.buy, Sale: i.sell, Date: i.date, Serial: i.serial })); 
        const ws = XLSX.utils.json_to_sheet(data); 
        const wb = XLSX.utils.book_new(); 
        XLSX.utils.book_append_sheet(wb, ws, "Inventory"); 
        XLSX.writeFile(wb, "Report.xlsx"); 
    }

    window.onload = syncFromFirebase;
</script>
</body>
</html>

